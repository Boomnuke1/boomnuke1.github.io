<html>
    <head>
        <title>funfunfun-team|videogesprekken</title>
        <link rel="shortcut icon" type="image/x-icon" href="icon.png">
        <link rel="stylesheet" href="style.css">
        <script src="https://simplewebrtc.com/latest-v2.js"></script>
    </head>
    <body>
        <video id="local"></video>
        <div id="remote"></div>
        <canvas id="canvas"></canvas>
        <script>
            var rtc = new SimpleWebRTC({
                localVideoEl: 'local',
                remoteVideosEl: 'remote',
                autoRequestMedia: true
            });
            rtc.on('readyToCall', function () {
               rtc.joinRoom('g');
            });
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            var data = '<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">' +
  '<foreignObject width="100%" height="100%">' +
  '<div xmlns="http://www.w3.org/1999/xhtml" style="font-size:40px">' +
  '<h1>Hello</h1> ' +

  '</div>' +
  '</foreignObject>' +
  '</svg>';
  var DOMURL = window.URL || window.webkitURL || window;

var img = new Image();
var svg = new Blob([data], {
  type: 'image/svg+xml;charset=utf-8'
});
var url = DOMURL.createObjectURL(svg);

img.onload = function() {
  ctx.drawImage(img, 0, 0);
  DOMURL.revokeObjectURL(url);
}

img.src = url;
document.addEventListener("keydown",function() {
   window.open(canvas.toDataURL("image/png")); 
});
        </script>
    </body>
</html>
